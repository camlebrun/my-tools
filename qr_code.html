<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Générateur QR Code - QuickTools 2025</title>
    <meta name="description" content="Générateur QR codes simple avec options de personnalisation. Interface moderne et résultats de qualité." />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- Navigation Moderne -->
    <nav class="navbar" id="navbar">
        <div class="container">
            <a class="navbar-brand" href="index.html" aria-label="QuickTools - Accueil">
                QuickTools
            </a>
            
            <button class="nav-toggle" id="navToggle" aria-label="Menu de navigation">
                <span></span>
                <span></span>
                <span></span>
            </button>
            
            <div class="nav-menu" id="navMenu">
                <ul class="nav-list">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">
                            Accueil
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="qr_code.html" aria-current="page">
                            Générateur QR Code
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="cal_days.html">
                            Calculatrice de Jours
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="pwd.html">
                            Générateur Mots de Passe
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Section Héros -->
    <header class="hero-section">
        <div class="container">
            <div class="hero-content">
                <h1 class="hero-title">
                    Générateur <span class="text-gradient">QR Code</span>
                </h1>
                <p class="hero-subtitle">
                    Créez des QR codes personnalisés pour vos URLs, textes ou informations de contact. 
                    Interface simple et résultats de qualité.
                </p>
            </div>
            
            <div class="hero-visuals">
                <div class="floating-element" data-speed="2"></div>
                <div class="floating-element" data-speed="1.5"></div>
                <div class="floating-element" data-speed="3"></div>
            </div>
        </div>
    </header>

    <!-- Contenu Principal -->
    <main class="tools-section">
        <div class="container">
            <div class="qr-generator-container">
                <div class="qr-input-section">
                    <h2>Générez votre QR Code</h2>
                    <p class="section-subtitle">
                        Entrez une URL, un texte ou des informations de contact
                    </p>
                    
                    <div class="input-group">
                        <input
                            id="text"
                            type="text"
                            class="form-control"
                            placeholder="Entrez une URL ou un texte..."
                            aria-label="URL ou texte pour QR Code"
                        />
                        <button
                            id="generate-btn"
                            class="btn btn-primary"
                            aria-label="Générer un QR Code"
                        >
                            Générer
                        </button>
                    </div>
                    
                    <div class="qr-options">
                        <div class="option-group">
                            <label for="qr-size">Taille du QR Code:</label>
                            <select id="qr-size" class="form-control">
                                <option value="128">128x128</option>
                                <option value="256" selected>256x256</option>
                                <option value="512">512x512</option>
                            </select>
                        </div>
                        
                        <div class="option-group">
                            <label for="qr-foreground">Couleur:</label>
                            <input type="color" id="qr-foreground" value="#000000" class="form-control color-picker">
                        </div>
                    </div>
                </div>
                
                <div class="qr-result-section">
                    <div id="qrcode" class="qr-display" aria-live="polite" role="alert">
                        <div class="qr-placeholder">
                            <span class="placeholder-icon"></span>
                            <p>Votre QR code apparaîtra ici</p>
                        </div>
                    </div>
                    
                    <div class="qr-actions" style="display: none;">
                        <button id="download-btn" class="btn btn-secondary">
                            Télécharger
                        </button>
                        <button id="copy-btn" class="btn btn-secondary">
                            Copier
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Section Simple -->
    <section class="simple-section">
        <div class="container">
            <div class="simple-content">
                <p class="simple-text">
                    Outils simples et efficaces pour mes besoins quotidiens
                </p>
            </div>
        </div>
    </section>

    <!-- Footer Moderne -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <h3 class="footer-title">QuickTools</h3>
                    <p class="footer-description">
                        Outils personnels pour simplifier le quotidien
                    </p>
                </div>
                
                <div class="footer-links">
                    <div class="footer-section">
                        <h4>Outils</h4>
                        <ul>
                            <li><a href="cal_days.html">Calculatrice de Jours</a></li>
                            <li><a href="qr_code.html">Générateur QR Code</a></li>
                            <li><a href="pwd.html">Mots de Passe</a></li>
                        </ul>
                    </div>
                    
                    <div class="footer-section">
                        <h4>Support</h4>
                        <ul>
                            <li><a href="#privacy">Confidentialité</a></li>
                            <li><a href="#terms">Conditions d'utilisation</a></li>
                            <li><a href="#contact">Contact</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 QuickTools. Tous droits réservés.</p>
                <div class="footer-social">
                    <span class="social-icon"></span>
                    <span class="social-icon"></span>
                    <span class="social-icon"></span>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="script.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const qrcode = new QRCode(document.getElementById("qrcode"));
            const generateBtn = document.getElementById("generate-btn");
            const textInput = document.getElementById("text");
            const qrSize = document.getElementById("qr-size");
            const qrForeground = document.getElementById("qr-foreground");
            const downloadBtn = document.getElementById("download-btn");
            const copyBtn = document.getElementById("copy-btn");
            const qrActions = document.querySelector(".qr-actions");
            const qrDisplay = document.getElementById("qrcode");

            function generateQRCode() {
                const textValue = textInput.value.trim();
                const size = parseInt(qrSize.value);
                const color = qrForeground.value;

                if (textValue) {
                    // Clear previous QR code
                    qrDisplay.innerHTML = '';
                    
                    // Create new QR code with custom options
                    const newQRCode = new QRCode(qrDisplay, {
                        text: textValue,
                        width: size,
                        height: size,
                        colorDark: color,
                        colorLight: "#ffffff",
                        correctLevel: QRCode.CorrectLevel.H
                    });
                    
                    // Show actions
                    qrActions.style.display = 'flex';
                    
                    // Add success animation
                    qrDisplay.classList.add('qr-generated');
                } else {
                    showError("Veuillez entrer une URL ou un texte.", textInput);
                    qrActions.style.display = 'none';
                }
            }

            function downloadQRCode() {
                const canvas = qrDisplay.querySelector('canvas');
                if (canvas) {
                    const link = document.createElement('a');
                    link.download = 'qr-code.png';
                    link.href = canvas.toDataURL();
                    link.click();
                }
            }

            function copyQRCode() {
                const canvas = qrDisplay.querySelector('canvas');
                if (canvas) {
                    canvas.toBlob(function(blob) {
                        if (navigator.clipboard && navigator.clipboard.write) {
                            navigator.clipboard.write([
                                new ClipboardItem({
                                    'image/png': blob
                                })
                            ]).then(() => {
                                // Show success feedback
                                copyBtn.textContent = 'Copié !';
                                setTimeout(() => {
                                    copyBtn.textContent = 'Copier';
                                }, 2000);
                            });
                        }
                    });
                }
            }

            // Event listeners
            generateBtn.addEventListener("click", generateQRCode);
            downloadBtn.addEventListener("click", downloadQRCode);
            copyBtn.addEventListener("click", copyQRCode);

            textInput.addEventListener("keydown", function (e) {
                if (e.key === "Enter") {
                    generateQRCode();
                }
            });

            // Real-time preview on input change
            textInput.addEventListener("input", function() {
                if (this.value.trim()) {
                    generateBtn.disabled = false;
                    generateBtn.classList.remove('btn-disabled');
                } else {
                    generateBtn.disabled = true;
                    generateBtn.classList.add('btn-disabled');
                }
            });

            // Initialize button state
            generateBtn.disabled = true;
            generateBtn.classList.add('btn-disabled');
        });
    </script>
</body>
</html>
