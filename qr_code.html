<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>G√©n√©rateur QR Code - QuickTools 2025</title>
    <meta name="description" content="G√©n√©rateur QR codes simple avec options de personnalisation. Interface moderne et r√©sultats de qualit√©.">
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar" id="navbar">
        <div class="container">
            <a class="navbar-brand" href="index.html" aria-label="QuickTools - Accueil">
                <span class="brand-icon">‚ö°</span>
                QuickTools
            </a>
            
            <button class="nav-toggle" id="navToggle" aria-label="Menu de navigation">
                <span></span>
                <span></span>
                <span></span>
            </button>
            
            <div class="nav-menu" id="navMenu">
                <ul class="nav-list">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">
                            Accueil
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="qr_code.html" aria-current="page">
                            QR Code
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="cal_days.html">
                            Calculatrice
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="pwd.html">
                            Mots de passe
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="hero">
        <div class="container">
            <div class="hero-content">
                <h1 class="hero-title">
                    G√©n√©rateur <span class="highlight">QR Code</span>
                </h1>
                <p class="hero-subtitle">
                    Cr√©ez des QR codes personnalis√©s pour vos URLs, textes ou informations de contact. Interface simple et r√©sultats de qualit√©.
                </p>
            </div>
            
            <div class="hero-visual">
                <div class="floating-shapes">
                    <div class="shape shape-1"></div>
                    <div class="shape shape-2"></div>
                    <div class="shape shape-3"></div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="tools-section">
        <div class="container">
            <div class="qr-generator-container">
                <!-- Input Section -->
                <div class="qr-input-section">
                    <h2 class="section-title">G√©n√©rez votre QR Code</h2>
                    <p class="section-subtitle">
                        Entrez une URL, un texte ou des informations de contact
                    </p>
                    
                    <div class="input-group">
                        <input 
                            id="qr-text" 
                            class="form-control" 
                            type="text" 
                            placeholder="Entrez une URL ou un texte..." 
                            aria-label="URL ou texte pour QR Code"
                        >
                        <button 
                            id="generate-btn" 
                            class="btn btn-primary" 
                            aria-label="G√©n√©rer un QR Code"
                        >
                            G√©n√©rer
                        </button>
                    </div>
                    
                    <div class="qr-options">
                        <div class="option-group">
                            <label for="qr-size">Taille du QR Code:</label>
                            <select id="qr-size" class="form-control">
                                <option value="128">128x128</option>
                                <option value="256" selected>256x256</option>
                                <option value="512">512x512</option>
                            </select>
                        </div>
                        
                        <div class="option-group">
                            <label for="qr-foreground">Couleur:</label>
                            <input 
                                type="color" 
                                id="qr-foreground" 
                                value="#000000" 
                                class="form-control color-picker"
                                aria-label="Couleur du QR Code"
                            >
                        </div>
                    </div>
                </div>
                
                <!-- Result Section -->
                <div class="qr-result-section">
                    <div id="qrcode" class="qr-display" aria-live="polite" role="alert">
                        <div class="qr-placeholder">
                            <div class="placeholder-icon">üì±</div>
                            <p>Votre QR code appara√Ætra ici</p>
                        </div>
                    </div>
                    
                    <div class="qr-actions" style="display: none;">
                        <button id="download-btn" class="btn btn-outline">
                            T√©l√©charger
                        </button>
                        <button id="copy-btn" class="btn btn-outline">
                            Copier
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <h3 class="footer-title">QuickTools</h3>
                    <p class="footer-description">
                        Outils simples pour un quotidien plus efficace
                    </p>
                </div>
                
                <div class="footer-links">
                    <div class="footer-section">
                        <h4>Outils</h4>
                        <ul>
                            <li><a href="cal_days.html">Calculatrice de Jours</a></li>
                            <li><a href="qr_code.html">G√©n√©rateur QR Code</a></li>
                            <li><a href="pwd.html">G√©n√©rateur Mots de Passe</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 QuickTools. Tous droits r√©serv√©s.</p>
            </div>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="script.js"></script>
    
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Initialize QRCode
            new QRCode(document.getElementById("qrcode"));
            
            const generateBtn = document.getElementById("generate-btn");
            const textInput = document.getElementById("qr-text");
            const sizeSelect = document.getElementById("qr-size");
            const colorInput = document.getElementById("qr-foreground");
            const downloadBtn = document.getElementById("download-btn");
            const copyBtn = document.getElementById("copy-btn");
            const qrActions = document.querySelector(".qr-actions");
            const qrDisplay = document.getElementById("qrcode");
            
            function generateQR() {
                const text = textInput.value.trim();
                const size = parseInt(sizeSelect.value);
                const color = colorInput.value;
                
                if (text) {
                    qrDisplay.innerHTML = "";
                    new QRCode(qrDisplay, {
                        text: text,
                        width: size,
                        height: size,
                        colorDark: color,
                        colorLight: "#ffffff",
                        correctLevel: QRCode.CorrectLevel.H
                    });
                    qrActions.style.display = "flex";
                    qrDisplay.classList.add("qr-generated");
                } else {
                    showError("Veuillez entrer une URL ou un texte.", textInput);
                    qrActions.style.display = "none";
                }
            }
            
            function showError(message, targetElement) {
                if (!targetElement) return;
                
                const errorDiv = document.createElement('div');
                errorDiv.className = 'error-message';
                errorDiv.textContent = message;
                errorDiv.style.cssText = `
                    color: var(--error);
                    font-size: 0.875rem;
                    margin-top: var(--space-sm);
                    padding: var(--space-sm);
                    background: #fef2f2;
                    border: 1px solid #fecaca;
                    border-radius: var(--radius-md);
                `;
                
                targetElement.parentNode.appendChild(errorDiv);
                
                // Auto-remove after 5 seconds
                setTimeout(() => {
                    if (errorDiv.parentNode) {
                        errorDiv.remove();
                    }
                }, 5000);
            }
            
            // Event listeners
            generateBtn.addEventListener("click", generateQR);
            
            downloadBtn.addEventListener("click", function() {
                const canvas = qrDisplay.querySelector("canvas");
                if (canvas) {
                    const link = document.createElement("a");
                    link.download = "qr-code.png";
                    link.href = canvas.toDataURL();
                    link.click();
                }
            });
            
            copyBtn.addEventListener("click", function() {
                const canvas = qrDisplay.querySelector("canvas");
                if (canvas) {
                    canvas.toBlob(function(blob) {
                        if (navigator.clipboard && navigator.clipboard.write) {
                            navigator.clipboard.write([
                                new ClipboardItem({
                                    "image/png": blob
                                })
                            ]).then(() => {
                                copyBtn.textContent = "Copi√© !";
                                setTimeout(() => {
                                    copyBtn.textContent = "Copier";
                                }, 2000);
                            });
                        }
                    });
                }
            });
            
            textInput.addEventListener("keydown", function(e) {
                if (e.key === "Enter") {
                    generateQR();
                }
            });
            
            textInput.addEventListener("input", function() {
                if (this.value.trim()) {
                    generateBtn.disabled = false;
                    generateBtn.classList.remove("btn-disabled");
                } else {
                    generateBtn.disabled = true;
                    generateBtn.classList.add("btn-disabled");
                }
            });
            
            // Initialize button state
            generateBtn.disabled = true;
            generateBtn.classList.add("btn-disabled");
        });
    </script>
    
    <!-- Theme Toggle Button -->
    <button class="theme-toggle" id="themeToggle" aria-label="Basculer le th√®me">
        üåô
    </button>
</body>
</html>
